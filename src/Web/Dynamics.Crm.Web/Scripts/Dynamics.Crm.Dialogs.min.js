var Dynamics;(function(n){var t;(function(n){n.publisherPrefix="sib_";n.componentName=function(t){return n.publisherPrefix+t}})(t=n.Crm||(n.Crm={}))})(Dynamics||(Dynamics={})),function(n){var t;(function(n){var t;(function(n){"use strict";var r=function(){function n(){}return n.Error="ERROR",n.Warning="WARNING",n.Information="INFO",n}(),t,i;n.FormNotificationType=r;t=function(){function n(){}return n.Browser="Web",n.Outlook="Outlook",n.Mobile="Mobile",n}();n.ClientType=t;i=function(){function n(){}return n.None="none",n.Required="required",n.Recommended="recommended",n}();n.AttributeRequiredLevel=i})(t=n.Forms||(n.Forms={}))})(t=n.Crm||(n.Crm={}))}(Dynamics||(Dynamics={})),function(n){var t;(function(n){var t;(function(n){"use strict";function f(n,t){t===void 0&&(t=window.document);var i=n.map(function(n){return r(n,t)});return jQuery.when(i)}function r(n,i){var u,r;return(i===void 0&&(i=window.document),console.log("Dynamics.Crm.ScriptManager.loadScript: "+n),u=t[n],!!u)?u:(t[n]=u=jQuery.Deferred(),r=i.createElement("script"),r.defer=!0,r.type="text/javascript",r.src=n,r.addEventListener("load",function(){u.resolveWith(r)}),i.body.appendChild(r),u)}function e(n,t){t===void 0&&(t=window.document);n.forEach(function(n){return u(n,t)})}function u(n,t){t===void 0&&(t=window.document);console.log("Dynamics.Crm.ScriptManager.loadStylesheet: "+n);var r=i.filter(function(t){return t===n});r.length>0||(jQuery("head",t).append("<link rel='stylesheet' href='"+n+"' />"),i.push(n))}var t={},i=[];n.loadScripts=f;n.loadScript=r;n.loadStylesheets=e;n.loadStylesheet=u})(t=n.ScriptManager||(n.ScriptManager={}))})(t=n.Crm||(n.Crm={}))}(Dynamics||(Dynamics={})),function(n){var t;(function(t){var i;(function(i){"use strict";var u=function(){function n(){}return n.alert=function(n,t){return"\n            <div class='modal fade' tabindex='-1' role='dialog'>\n            <div class='modal-dialog' role='document'>\n               <div class='modal-content'>\n                   <div class='modal-header'>\n                       <button type='button' class='close' data-dismiss='modal' aria-label='Close'>\n                           <span aria-hidden='true' >&times;<\/span><\/button>\n                       <h4 class='modal-title'>"+t+"<\/h4>\n                   <\/div>\n                   <div class='modal-body'>"+n+"<\/div>\n                   <div class='modal-footer'>\n                       <button type='button' class='btn btn-primary' data-dismiss='modal'>OK<\/button>\n                   <\/div>\n               <\/div>\n            <\/div>\n            <\/div>"},n.confirm=function(n,t){return"\n            <div class='modal fade' tabindex='-1' role='dialog'>\n            <div class='modal-dialog' role='document'>\n               <div class='modal-content'>\n                   <div class='modal-header'>\n                       <button type='button' class='close' data-dismiss='modal' aria-label='Close'>\n                           <span aria-hidden='true' >&times;<\/span><\/button>\n                       <h4 class='modal-title'>"+t+"<\/h4>\n                   <\/div>\n                   <div class='modal-body'>"+n+"<\/div>\n                   <div class='modal-footer'>\n                       <button type='button' class='btn btn-primary' data-dismiss='modal'>OK<\/button>\n                       <button type='button' class='btn btn-default' data-dismiss='modal'>Close<\/button>\n                   <\/div>\n               <\/div>\n            <\/div>\n            <\/div>"},n}(),r=function(){function n(n,t,i){this._content=t;this._window=n;this._init=i}return n.prototype.Resolve=function(){this.deferred.resolve()},n.prototype.Reject=function(){this.deferred.reject()},n.prototype.Show=function(){return this.dialog.modal("show"),this.deferred},Object.defineProperty(n.prototype,"dialog",{get:function(){return this._dialog||(this._dialog=this._window.jQuery(this._content),this._dialog.appendTo(this._window.jQuery("body")),this._dialog.modal({backdrop:!1,show:!1}),this._window.jQuery("button.btn-primary",this._dialog).click(this.Resolve.bind(this)),this._window.jQuery("button.close",this._dialog).click(this.Reject.bind(this)),this._window.jQuery("button.btn-default",this._dialog).click(this.Reject.bind(this)),this._init&&this._init(this._dialog)),this._dialog},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"deferred",{get:function(){return this._deferred||(this._deferred=$.Deferred()),this._deferred},enumerable:!0,configurable:!0}),n}(),f;i.BootstrapDialog=r;f=function(){function i(n){this._window=n;this.Init()}return i.prototype.Init=function(){var i="../WebResources/"+n.Crm.publisherPrefix+"/Libs/bootstrap/";this._loading=t.ScriptManager.loadScript(i+"js/bootstrap.min.js",this._window.document);t.ScriptManager.loadStylesheet(i+"css/bootstrap.min.css",this._window.document)},i.prototype.Alert=function(n,t){var i=this;return this._loading.then(function(){return new r(i._window,u.alert(n,t))})},i.prototype.Confirm=function(n,t){var i=this;return this._loading.then(function(){return new r(i._window,u.confirm(n,t))})},i.prototype.Create=function(n){var t=this;return this._loading.then(function(){return new r(t._window,n.Template,n.Init)})},i}();i.BootstrapDialogProvider=f})(i=t.Dialogs||(t.Dialogs={}))})(t=n.Crm||(n.Crm={}))}(Dynamics||(Dynamics={})),function(n){var t;(function(n){var t;(function(n){"use strict";function t(){return i||(i=new n.BootstrapDialogProvider(window.top)),i}function r(n,i){var r=$.Deferred();return t().Alert(n,i).done(function(n){return n.Show().done(function(){return r.resolve()}).fail(function(){return r.reject()})}).fail(function(){return r.reject()}),r}function u(n,i){var r=$.Deferred();return t().Confirm(n,i).done(function(n){return n.Show().done(function(){return r.resolve(!0)}).fail(function(){return r.reject()})}).fail(function(){return r.reject()}),r}function f(n){var i=$.Deferred();return t().Create(n).done(function(t){return t.Show().done(function(){var t=n.Done();i.resolve(t)}).fail(function(){return i.reject()})}).fail(function(){return i.reject()}),i}function e(){t()}(function(n){n[n.Alert=0]="Alert";n[n.Confirm=1]="Confirm";n[n.Custom=2]="Custom"})(n.DialogType||(n.DialogType={}));var o=n.DialogType,i;n.alert=r;n.confirm=u;n.create=f;n.init=e})(t=n.Dialogs||(n.Dialogs={}))})(t=n.Crm||(n.Crm={}))}(Dynamics||(Dynamics={}));